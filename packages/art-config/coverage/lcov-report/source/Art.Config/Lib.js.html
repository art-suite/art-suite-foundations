
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for source/Art.Config/Lib.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../index.html">All files</a> / <a href="index.html">source/Art.Config</a> Lib.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">90.63% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>29/32</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">94.12% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>16/17</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>11/11</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>2/2</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
    </div>
    <div class='status-line high'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">377x</span></td><td class="text"><pre class="prettyprint lang-js">"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () =&gt; {return Caf.importInvoke(["isString", "JSON", "isPlainObject", "log", "formattedInspect", "getEnv", "upperCamelCase"], [global, require('art-standard-lib')], (isString, JSON, isPlainObject, log, formattedInspect, getEnv, upperCamelCase) =&gt; {let jsonParsableRegexp, externalEnvironmentRegExp, Lib; jsonParsableRegexp = /^(\[.*\]|\{.*\}|\".*\"|((-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|true|false|null))$/; externalEnvironmentRegExp = /^artConfig([\._])(.+)$/; return Lib = Caf.defClass(class Lib extends Object {}, function(Lib, classSuper, instanceSuper) {let smartJsonDecode; this.smartJsonDecode = smartJsonDecode = function(value) {return (isString(value) &amp;&amp; jsonParsableRegexp.test(value)) ? JSON.parse(value) : value != null ? value : null;}; this.getExternalEnvironment = function(externalEnvironment = getEnv()) {let artConfig, artConfigName, e; artConfig = externalEnvironment.artConfig; artConfigName = externalEnvironment.artConfigName; artConfig = (() =&gt; {switch (false) {case !isPlainObject(artConfig): return artConfig; case !isString(artConfig): return (() =&gt; {try {return JSON.parse(artConfig);} catch (error) {<span class="cstat-no" title="statement not covered" >e = error; <span class="cstat-no" title="statement not covered" ></span>log.error(`\nInvalid 'artConfig' from externalEnvironment. Must be valid JSON.\n\n${Caf.toString(formattedInspect({externalEnvironment}))}\n\nartConfig: ${Caf.toString(formattedInspect(artConfig))}\n\nerror: ${Caf.toString(e)}`); <span class="cstat-no" title="statement not covered" ></span>return null;}</span>;})(); default: return {};};})(); Caf.each2(externalEnvironment, (v, k) =&gt; {let m; m = k.match(externalEnvironmentRegExp); return (m[1] === "_") ? <span class="branch-0 cbranch-no" title="branch not covered" >artConfig[m[2].replace(/_/g, ".")] = smartJsonDecode(v) </span>: artConfig[m[2]] = smartJsonDecode(v);}, (v, k) =&gt; externalEnvironmentRegExp.test(k)); return {artConfig, artConfigName};}; this.normalizeArtConfigName = function(artConfigName) {return (() =&gt; {switch (artConfigName) {case "dev": return "Development"; case "prod": return "Production"; default: return artConfigName &amp;&amp; upperCamelCase(artConfigName);};})();};});});});</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank">istanbul</a>
                at Sat Oct 24 2020 09:59:25 GMT-0700 (Pacific Daylight Time)
            </div>
        </div>
        <script src="../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../sorter.js"></script>
        <script src="../../block-navigation.js"></script>
    </body>
</html>
    